<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      body {
        background: black;
        height: 6000px;
        font-family: 'nanumsquare';
      }
      div {
        margin-top: 1000px;
        color: white;
        text-align: center;
        font-size: 100px;
        font-weight: 3px;
        opacity: 0;
        transition: all 0.5s;
      }
    </style>

    <div>박스1</div>
    <div>박스2</div>
    <div>박스3</div>
    <div>박스4</div>

    <script>
      let observer = new IntersectionObserver((e) => {
        // 감시중 박스가 화면에 등장하면 여기 코드 실행해줌
        e.forEach((item) => {
          if (item.isIntersecting) {
            // item이 화면에 보일때만 스타일을 실행해달라고 세팅하는 것! isIntersecting!
            item.target.style.opacity = 1;
            item.target.style.transform = 'rotate(0deg)';
          } else {
            // 감시중인 박스가 퇴장시 실행할 코드
          }
          item.intersectionRatio; // 박스가 반쯤 보이면 0.5 출력됨
          // if문 없이  item.target.style.opacity = 1; 의 경우, 감시중인 박스가 '등장' & '퇴장'(화면에서 안보일) 시 실행됨.
        });
      });

      let div = document.querySelectorAll('div');
      observer.observe(div[0]); // 원하는 html요소가 화면에 등장하는지 감시해줌. () 안에 html요소 넣기.
      observer.observe(div[1]);
      observer.observe(div[2]);
      observer.observe(div[3]);
    </script>
  </body>
</html>
